---
title: "Example Analysis using jointCompRisk"
author: "Wenqing Zhang"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Example Analysis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
### Part I: CIF Inference

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(jointCompRisk)
```

```{r}
# Load the dummy datasets
data("dummy_actt_ch")
data("dummy_actt_long")

head(dummy_actt_ch)
head(dummy_actt_long)
```

```{r}
res_list <- prepare_actt_data()
names(res_list)
str(res_list$data.w)
```

```{r}
# Example: day 15, measure with b=1, c=0
table1(
  data1 = res_list$trt1,
  data2 = res_list$trt0,
  tau   = 15,
  a = 0, b = 1, c = 0
)
```
### Part II: Weighted CIF
```{r}
# Weighted analysis, event type = 2 (death), tau = 15
table_wr(
  data1 = res_list$trt1.death,
  data2 = res_list$trt0.death,
  eta   = 2,
  tau   = 15
)
```

